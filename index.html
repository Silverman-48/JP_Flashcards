<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JP Flashcards</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 30px; background-color: #f4f4f9; }
        
        /* --- Shared Elements --- */
        #promptDisplay { font-size: 80px; margin: 20px; color: #333; font-family: "MS PGothic", sans-serif; min-height: 90px; }
        #meaningDisplay { font-size: 22px; margin-bottom: 20px; color: #555; font-weight: bold; min-height: 25px; }
        input[type="text"] { font-size: 20px; padding: 10px; width: 250px; text-align: center; border: 2px solid #ccc; border-radius: 5px; }
        button { font-size: 16px; margin: 5px; padding: 8px 15px; border-radius: 5px; border: none; cursor: pointer; background-color: #5c67f2; color: white; transition: background-color 0.2s; }
        #resetBtn { background: #f25c5c; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        button:hover { background: #5c67f2; border: none; color: white; }
        #resetBtn:hover { background: #f25c5c; border: none; color: white; }
        
        .stats { margin-top: 15px; margin-bottom: 15px; font-size: 18px; color: #555; }
        #resultDisplay { margin-top: 15px; font-size: 20px; font-weight: bold; height: 25px; }
        .neutral { color: black; }
        .correct { color: green; }
        .incorrect { color: red; }



        /* --- Mode Selection --- */
        /* .mode-choice-main { margin-bottom: 20px; font-size: 1.2em; padding-bottom: 15px; border-bottom: 0px solid #ddd; } */
        .mode-choice { font-size: 1.2em; padding-bottom: 15px; }
        .mode-choice label { margin: 0 15px; cursor: pointer; }
        .sub-options { margin-top: 20px; }

        /* --- Vocabulary Mode Specific --- */
        .word-list-container {
            max-height: 400px;
            max-width: 300px;
            overflow-y: auto;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
            margin: 25px auto;
            text-align: left;
            background-color: #fff;
            display: none; 
        }
        .word-list-container h3 { margin-top: 0; text-align: center; }
        .word-list-container p { border-bottom: 1px solid #eee; padding-bottom: 5px; margin: 0 0 5px 0; }
        
        /* --- Kana Mode Specific --- */
        .groups-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .groups { text-align: left; padding: 15px; border: 1px solid #ddd; border-radius: 8px; background-color: #fff; }
        .groups h3, .groups h4 { margin-top: 0; margin-bottom: 10px; }
        .groups label { display: block; margin: 3px 0; cursor: pointer;}
    </style>
</head>
<body>
    <!--<h1>Flashcards de Japonês</h1>-->
    
    <div class="mode-choice">
        <!--<h3>Escolha o Modo de Prática:</h3>-->
        <label><input type="radio" name="appMode" value="kana" checked> Kana</label>
        <label><input type="radio" name="appMode" value="vocab"> Vocabulário</label>
    </div>

    <div id="meaningDisplay">...</div>
    <div id="promptDisplay">?</div>
    <input type="text" id="answerBox" placeholder="Digite a leitura...">
    <div id="resultDisplay">Aguardando Resposta...</div><br>
    
    <button id="checkBtn">Verificar</button>
    <button id="nextBtn">Seguinte</button>
    <button id="resetBtn">Reiniciar</button>
    
    <div class="stats">
        Restantes: <span id="remainingCount">0</span><br>
        Corretos: <span id="correctCount">0</span> | Incorretos: <span id="incorrectCount">0</span>
    </div>

    <div id="kana-controls" class="sub-options">
        <button id="showAllBtn2">Ver Linhas Selecionadas</button>
        <br>
        <button id="optionsBtn2">Ver/Esconder Linhas de Kana</button>
        <div id="allWordsContainer2" class="word-list-container"></div>
        <div class="groups-container" id="options2" style="display: none">
            <div class="groups">
                <h3>Hiragana</h3>
                <h4><label><input type="checkbox" id="checkAllHira" checked> Ativar/Desativar Todas</label></h4>
                <hr>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpA" checked> Linha A</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpKA" checked> Linha KA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpSA" checked> Linha SA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpTA" checked> Linha TA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpNA" checked> Linha NA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpHA" checked> Linha HA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpMA" checked> Linha MA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpYA" checked> Linha YA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpRA" checked> Linha RA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpWA" checked> Linha WA/N</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpGA" checked> Som Sonoro GA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpZA" checked> Som Sonoro ZA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpDA" checked> Som Sonoro DA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpBA" checked> Som Sonoro BA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpPA" checked> Som Semissonoro PA</label>
                <label><input type="checkbox" class="group-checkbox-hira" id="grpYOON" checked> Ditongos</label>
            </div>
            <div class="groups">
                <h3>Katakana</h3>
                <h4><label><input type="checkbox" id="checkAllKata" checked> Ativar/Desativar Todas</label></h4>
                <hr>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpA_kata" checked> Linha A</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpKA_kata" checked> Linha KA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpSA_kata" checked> Linha SA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpTA_kata" checked> Linha TA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpNA_kata" checked> Linha NA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpHA_kata" checked> Linha HA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpMA_kata" checked> Linha MA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpYA_kata" checked> Linha YA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpRA_kata" checked> Linha RA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpWA_kata" checked> Linha WA/N</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpGA_kata" checked> Som Sonoro GA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpZA_kata" checked> Som Sonoro ZA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpDA_kata" checked> Som Sonoro DA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpBA_kata" checked> Som Sonoro BA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpPA_kata" checked> Som Semissonoro PA</label>
                <label><input type="checkbox" class="group-checkbox-kata" id="grpYOON_kata" checked> Ditongos</label>
            </div>
        </div>
    </div>

    <div id="vocab-controls" class="sub-options">
        <div class="mode-choice">
            <label><input type="radio" name="vocabScript" value="normal" checked> Normal</label>
            <label><input type="radio" name="vocabScript" value="alt"> Inverso</label>
            <br>
            <label><input type="radio" name="vocabScript" value="random"> Aleatório</label>
        </div>
        <button id="showAllBtn1">Ver Lista de Palavras</button>
        <br>
        <button id="optionsBtn1">Ver/Esconder Lições</button>
        <div id="allWordsContainer1" class="word-list-container"></div>
        <div class="groups-container" id="options1" style="display: none">
            <div class="groups">
                <h3>Hiragana</h3>
                <h4><label><input type="checkbox" id="checkAllWordsHira" checked> Ativar/Desativar Todas</label></h4>
                <hr>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL01" checked> Lição 1 - Linha A</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL02" checked> Lição 2 - Linha KA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL03" checked> Lição 3 - Linha SA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL04" checked> Lição 4 - Linha TA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL05" checked> Lição 5 - Linha NA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL06" checked> Lição 6 - Linha HA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL07" checked> Lição 7 - Linha MA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL08" checked> Lição 8 - Linha YA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL09" checked> Lição 9 - Linha RA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL10" checked> Lição 10 - Linha WA/N</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL11" checked> Lição 11 - Som Sonoro GA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL12" checked> Lição 12 - Som Sonoro ZA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL13" checked> Lição 13 - Som Sonoro DA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL14" checked> Lição 14 - Som Sonoro BA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL15" checked> Lição 15 - Som Semissonoro PA</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL16" checked> Lição 16 - Som Oclusivo</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL17" checked> Lição 17 - Som Longo</label>
                <label><input type="checkbox" class="group-checkbox-words-hira" id="wrdL18" checked> Lição 18 - Ditongo</label>
            </div>
            <div class="groups">
                <h3>Katakana</h3>
                <h4><label><input type="checkbox" id="checkAllWordsKata" checked> Ativar/Desativar Todas</label></h4>
                <hr>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL01_kata" checked> Lição 1 - Linha A</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL02_kata" checked> Lição 2 - Linha KA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL03_kata" checked> Lição 3 - Linha SA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL04_kata" checked> Lição 4 - Linha TA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL05_kata" checked> Lição 5 - Linha NA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL06_kata" checked> Lição 6 - Linha HA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL07_kata" checked> Lição 7 - Linha MA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL08_kata" checked> Lição 8 - Linha YA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL09_kata" checked> Lição 9 - Linha RA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL10_kata" checked> Lição 10 - Linha WA/N</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL11_kata" checked> Lição 11 - Som Sonoro GA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL12_kata" checked> Lição 12 - Som Sonoro ZA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL13_kata" checked> Lição 13 - Som Sonoro DA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL14_kata" checked> Lição 14 - Som Sonoro BA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL15_kata" checked> Lição 15 - Som Semissonoro PA</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL16_kata" checked> Lição 16 - Som Oclusivo</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL17_kata" checked> Lição 17 - Som Longo</label>
                <label><input type="checkbox" class="group-checkbox-words-kata" id="wrdL18_kata" checked> Lição 18 - Ditongo</label>
            </div>
    </div>

<script>
    // ===== DATA FROM BOTH SCRIPTS =====
const hiraganaWords = {
L01:[{word:"あい",reading:"ai",meaning:"Amor"},
{word:"いえ",reading:"ie",meaning:"Casa"},
{word:"うえ",reading:"ue",meaning:"Acima (em cima, sobre)"},
{word:"え",reading:"e",meaning:"Desenho (pintura, imagem)"},
{word:"おおい",reading:"ooi",meaning:"Muito (quantificador)"},
{word:"あお",reading:"ao",meaning:"Azul"},
{word:"いい",reading:"ii",meaning:"Bom / Bem"},
{word:"あう",reading:"au",meaning:"Encontrar-se (com alguém)"}],

L02:[{word:"かお",reading:"kao",meaning:"Rosto (cara, face)"},
{word:"えき",reading:"eki",meaning:"Estação (de comboio)"},
{word:"きく",reading:"kiku",meaning:"Ouvir / Perguntar"},
{word:"いけ",reading:"ike",meaning:"Lagoa"},
{word:"こえ",reading:"koe",meaning:"Voz"},
{word:"あき",reading:"aki",meaning:"Outono"},
{word:"き",reading:"ki",meaning:"Árvore / Madeira"},
{word:"かく",reading:"kaku",meaning:"Escrever / Desenhar"}],

L03:[{word:"かさ",reading:"kasa",meaning:"Guarda-chuva"},
{word:"しお",reading:"shio",meaning:"Sal"},
{word:"いす",reading:"isu",meaning:"Cadeira"},
{word:"せかい",reading:"sekai",meaning:"Mundo"},
{word:"きそく",reading:"kisoku",meaning:"Regras"},
{word:"すいか",reading:"suika",meaning:"Melancia"},
{word:"おかし",reading:"okashi",meaning:"Doces (guloseima)"},
{word:"すし",reading:"sushi",meaning:"Sushi"}],

L04:[{word:"した",reading:"shita",meaning:"Abaixo (embaixo, sob)"},
{word:"くち",reading:"kuchi",meaning:"Boca"},
{word:"つくえ",reading:"tsukue",meaning:"Secretária (mesa)"},
{word:"て",reading:"te",meaning:"Mão"},
{word:"いと",reading:"ito",meaning:"Fio (linha)"},
{word:"たけ",reading:"take",meaning:"Bambu"},
{word:"とけい",reading:"tokei",meaning:"Relógio"},
{word:"くつ",reading:"kutsu",meaning:"Sapato"}],

L05:[{word:"なつ",reading:"natsu",meaning:"Verão"},
{word:"にし",reading:"nishi",meaning:"Oeste"},
{word:"いぬ",reading:"inu",meaning:"Cão (cachorro)"},
{word:"ねこ",reading:"neko",meaning:"Gato"},
{word:"きのこ",reading:"kinoko",meaning:"Cogumelo"},
{word:"さかな",reading:"sakana",meaning:"Peixe"},
{word:"おかね",reading:"okane",meaning:"Dinheiro"},
{word:"にく",reading:"niku",meaning:"Carne"}],

L06:[{word:"はこ",reading:"hako",meaning:"Caixa"},
{word:"ひ",reading:"hi",meaning:"Fogo / Dia"},
{word:"ふね",reading:"fune",meaning:"Barco (navio)"},
{word:"へそ",reading:"heso",meaning:"Umbigo"},
{word:"ほし",reading:"hoshi",meaning:"Estrela"},
{word:"はな",reading:"hana",meaning:"Flor / Nariz"},
{word:"ふく",reading:"fuku",meaning:"Roupas"},
{word:"はち",reading:"hachi",meaning:"Oito / Abelha"}],

L07:[{word:"まち",reading:"machi",meaning:"Cidade / Bairro"},
{word:"みみ",reading:"mimi",meaning:"Orelha"},
{word:"むし",reading:"mushi",meaning:"Inseto"},
{word:"め",reading:"me",meaning:"Olho"},
{word:"もも",reading:"momo",meaning:"Pêssego"},
{word:"あめ",reading:"ame",meaning:"Chuva / Rebuçado"},
{word:"くも",reading:"kumo",meaning:"Nuvem / Aranha"},
{word:"きもの",reading:"kimono",meaning:"Quimono"}],

L08:[{word:"やね",reading:"yane",meaning:"Telhado"},
{word:"ゆめ",reading:"yume",meaning:"Sonho"},
{word:"よやく",reading:"yoyaku",meaning:"Reserva / Agendamento"},
{word:"やま",reading:"yama",meaning:"Montanha"},
{word:"ゆき",reading:"yuki",meaning:"Neve"},
{word:"よむ",reading:"yomu",meaning:"Ler"},
{word:"やさい",reading:"yasai",meaning:"Legumes / Verduras"},
{word:"やすみ",reading:"yasumi",meaning:"Descanso (folga, feriado)"},
{word:"ゆかた",reading:"yukata",meaning:"Yukata (quimono de verão)"},
{word:"やくそく",reading:"yakusoku",meaning:"Promessa (compromisso)"}],

L09:[{word:"さくら",reading:"sakura",meaning:"Cerejeira (flor de cerejeira)"},
{word:"となり",reading:"tonari",meaning:"Vizinho (próximo)"},
{word:"くるま",reading:"kuruma",meaning:"Carro"},
{word:"れきし",reading:"rekishi",meaning:"História"},
{word:"おふろ",reading:"ofuro",meaning:"Banheira (p/ tomar banho)"},
{word:"きれい",reading:"kirei",meaning:"Bonito / Limpo"},
{word:"しろ",reading:"shiro",meaning:"Branco"},
{word:"くろ",reading:"kuro",meaning:"Preto"}],

L10:[{word:"わたし",reading:"watashi",meaning:"Eu"},
{word:"ほしをみる",reading:"hoshi o miru",meaning:"Ver as estrelas"},
{word:"ほんをよむ",reading:"hon o yomu",meaning:"Ler um livro"},
{word:"にほん",reading:"nihon",meaning:"Japão"},
{word:"わかめ",reading:"wakame",meaning:"Alga marinha"},
{word:"みかん",reading:"mikan",meaning:"Tangerina"},
{word:"わに",reading:"wani",meaning:"Crocodilo"},
{word:"かわ",reading:"kawa",meaning:"Rio / Pele"},
{word:"きん",reading:"kin",meaning:"Ouro"},
{word:"みなさん",reading:"minasan",meaning:"Todos (toda a gente)"}],

L11:[{word:"てがみ",reading:"tegami",meaning:"Carta"},
{word:"かぎ",reading:"kagi",meaning:"Chave"},
{word:"かぐ",reading:"kagu",meaning:"Móveis (de casa)"},
{word:"げんき",reading:"genki",meaning:"Saúde (bem-estar)"},
{word:"りんご",reading:"ringo",meaning:"Maçã"},
{word:"がいこく",reading:"gaikoku",meaning:"País estrangeiro"},
{word:"たまご",reading:"tamago",meaning:"Ovo"},
{word:"ごご",reading:"gogo",meaning:"Tarde (p.m.)"},
{word:"めがね",reading:"megane",meaning:"Óculos"},
{word:"ごはん",reading:"gohan",meaning:"Arroz cozido / Refeição"}],

L12:[{word:"かざん",reading:"kazan",meaning:"Vulcão"},
{word:"かんじ",reading:"kanji",meaning:"Caractere chinês"},
{word:"みず",reading:"mizu",meaning:"Água"},
{word:"かぜ",reading:"kaze",meaning:"Vento / Resfriado"},
{word:"かぞく",reading:"kazoku",meaning:"Família"},
{word:"ざんねん",reading:"zannen",meaning:"Lamentável (que pena)"},
{word:"じしん",reading:"jishin",meaning:"Terramoto"},
{word:"ぜんぜん",reading:"zenzen",meaning:"De jeito nenhum (negação)"},
{word:"じかん",reading:"jikan",meaning:"Tempo (duração)"},
{word:"ざつおん",reading:"zatsuon",meaning:"Ruído (som indesejado)"}],

L13:[{word:"ひだり",reading:"hidari",meaning:"Esquerda"},
{word:"はなぢ",reading:"hanaji",meaning:"Sangramento nasal"},
{word:"つづく",reading:"tsuzuku",meaning:"Continuar"},
{word:"でんわ",reading:"denwa",meaning:"Telefone"},
{word:"まど",reading:"mado",meaning:"Janela"},
{word:"だいがく",reading:"daigaku",meaning:"Universidade"},
{word:"でぐち",reading:"deguchi",meaning:"Saída"},
{word:"かたづけ",reading:"katazuke",meaning:"Organização (arrumação)"},
{word:"どこ",reading:"doko",meaning:"Onde (pron. interrogativo)"},
{word:"だいすき",reading:"daisuki",meaning:"Adorar (gostar muito)"}],

L14:[{word:"たばこ",reading:"tabako",meaning:"Cigarro"},
{word:"びん",reading:"bin",meaning:"Garrafa"},
{word:"しんぶん",reading:"shinbun",meaning:"Jornal"},
{word:"かべ",reading:"kabe",meaning:"Parede"},
{word:"ぼく",reading:"boku",meaning:"Eu (informal masculino)"},
{word:"ばんごはん",reading:"bangohan",meaning:"Jantar"},
{word:"ぶんか",reading:"bunka",meaning:"Cultura"},
{word:"べんり",reading:"benri",meaning:"Prático (conveniente)"},
{word:"ぼんさい",reading:"bonsai",meaning:"Bonsai (arbusto japonês)"},
{word:"ぶんがく",reading:"bungaku",meaning:"Literatura"}],

L15:[{word:"でんぱ",reading:"denpa",meaning:"Onda Eletromagnética"},
{word:"えんぴつ",reading:"enpitsu",meaning:"Lápis"},
{word:"てんぷら",reading:"tempura",meaning:"Tempura"},
{word:"ぺこぺこ",reading:"pekopeko",meaning:"Faminto (onom.)"},
{word:"さんぽ",reading:"sanpo",meaning:"Passeio"},
{word:"かんぱい",reading:"kanpai",meaning:"Saúde! (brinde ao beber)"},
{word:"ぴかぴか",reading:"pikapika",meaning:"Brilhante / Reluzente (onom.)"},
{word:"ぺらぺら",reading:"perapera",meaning:"Fluente em idioma (onom.)"},
{word:"ぱくぱく",reading:"pakupaku",meaning:"Comer rapidamente (onom.)"},
{word:"ぽかぽか",reading:"pokapoka",meaning:"Quente / Confortável (onom.)"}],

L16:[{word:"けっこん",reading:"kekkon",meaning:"Casamento"},
{word:"さっか",reading:"sakka",meaning:"Escritor (autor)"},
{word:"きっぷ",reading:"kippu",meaning:"Bilhete (de transporte)"},
{word:"しっぱい",reading:"shippai",meaning:"Falha (fracasso)"},
{word:"ざっし",reading:"zasshi",meaning:"Revista"},
{word:"きっさてん",reading:"kissaten",meaning:"Cafetaria (café)"},
{word:"きって",reading:"kitte",meaning:"Selo (postagem)"},
{word:"あさって",reading:"asatte",meaning:"Depois de amanhã"},
{word:"こっち",reading:"kocchi",meaning:"Por aqui (informal)"},
{word:"しっぽ",reading:"shippo",meaning:"Cauda (de animal)"}],

L17:[{word:"おじいさん",reading:"ojiisan",meaning:"Avô"},
{word:"おばあさん",reading:"obaasan",meaning:"Avó"},
{word:"おとうさん",reading:"otousan",meaning:"Pai"},
{word:"おかあさん",reading:"okaasan",meaning:"Mãe"},
{word:"おにいさん",reading:"oniisan",meaning:"Irmão mais velho"},
{word:"おねえさん",reading:"oneesan",meaning:"Irmã mais velha"},
{word:"おとうとさん",reading:"otoutosan",meaning:"Irmão mais novo"},
{word:"いもうとさん",reading:"imoutosan",meaning:"Irmã mais nova"},
{word:"せんせい",reading:"sensei",meaning:"Professor (mestre)"},
{word:"がくせい",reading:"gakusei",meaning:"Estudante (aluno)"},
{word:"おおきい",reading:"ookii",meaning:"Grande"},
{word:"ちいさい",reading:"chiisai",meaning:"Pequeno"},
{word:"こおり",reading:"koori",meaning:"Gelo"},
{word:"ぼうし",reading:"boushi",meaning:"Chapéu"},
{word:"ぞう",reading:"zou",meaning:"Elefante"},
{word:"ひこうき",reading:"hikouki",meaning:"Avião"}],

L18:[{word:"とうきょう",reading:"toukyou",meaning:"Tóquio"},
{word:"きょうと",reading:"kyouto",meaning:"Quioto"},
{word:"きょうしつ",reading:"kyoushitsu",meaning:"Sala de aula"},
{word:"べんきょう",reading:"benkyou",meaning:"Estudo"},
{word:"ぎゅうにゅう",reading:"gyuunyuu",meaning:"Leite (gado bovino)"},
{word:"でんしゃ",reading:"densha",meaning:"Comboio"},
{word:"じてんしゃ",reading:"jitensha",meaning:"Bicicleta"},
{word:"いしゃ",reading:"isha",meaning:"Médico"},
{word:"じしょ",reading:"jisho",meaning:"Dicionário"},
{word:"としょかん",reading:"toshokan",meaning:"Biblioteca"},
{word:"しょくどう",reading:"shokudou",meaning:"Refeitório (cantina)"},
{word:"じんじゃ",reading:"jinja",meaning:"Santuário xintoísta"},
{word:"じゅう",reading:"juu",meaning:"Dez"},
{word:"おちゃ",reading:"ocha",meaning:"Chá"},
{word:"ひゃく",reading:"hyaku",meaning:"Cem"},
{word:"さんびゃく",reading:"sanbyaku",meaning:"Trezentos"},
{word:"びょういん",reading:"byouin",meaning:"Hospital"},
{word:"ろっぴゃく",reading:"roppyaku",meaning:"Seiscentos"},
{word:"りゅうがく",reading:"ryuugaku",meaning:"Estudar no exterior"},
{word:"りょこう",reading:"ryokou",meaning:"Viagem"}]
};

const katakanaWords = {
L01:[{word:"あい",reading:"ai",meaning:"Amor"},
{word:"いえ",reading:"ie",meaning:"Casa"},
{word:"うえ",reading:"ue",meaning:"Acima (em cima, sobre)"},
{word:"え",reading:"e",meaning:"Desenho (pintura, imagem)"},
{word:"おおい",reading:"ooi",meaning:"Muito (quantificador)"},
{word:"あお",reading:"ao",meaning:"Azul"},
{word:"いい",reading:"ii",meaning:"Bom / Bem"},
{word:"あう",reading:"au",meaning:"Encontrar-se (com alguém)"}],

L02:[{word:"かお",reading:"kao",meaning:"Rosto (cara, face)"},
{word:"えき",reading:"eki",meaning:"Estação (de comboio)"},
{word:"きく",reading:"kiku",meaning:"Ouvir / Perguntar"},
{word:"いけ",reading:"ike",meaning:"Lagoa"},
{word:"こえ",reading:"koe",meaning:"Voz"},
{word:"あき",reading:"aki",meaning:"Outono"},
{word:"き",reading:"ki",meaning:"Árvore / Madeira"},
{word:"かく",reading:"kaku",meaning:"Escrever / Desenhar"}],

L03:[{word:"かさ",reading:"kasa",meaning:"Guarda-chuva"},
{word:"しお",reading:"shio",meaning:"Sal"},
{word:"いす",reading:"isu",meaning:"Cadeira"},
{word:"せかい",reading:"sekai",meaning:"Mundo"},
{word:"きそく",reading:"kisoku",meaning:"Regras"},
{word:"すいか",reading:"suika",meaning:"Melancia"},
{word:"おかし",reading:"okashi",meaning:"Doces (guloseima)"},
{word:"すし",reading:"sushi",meaning:"Sushi"}],

L04:[{word:"した",reading:"shita",meaning:"Abaixo (embaixo, sob)"},
{word:"くち",reading:"kuchi",meaning:"Boca"},
{word:"つくえ",reading:"tsukue",meaning:"Secretária (mesa)"},
{word:"て",reading:"te",meaning:"Mão"},
{word:"いと",reading:"ito",meaning:"Fio (linha)"},
{word:"たけ",reading:"take",meaning:"Bambu"},
{word:"とけい",reading:"tokei",meaning:"Relógio"},
{word:"くつ",reading:"kutsu",meaning:"Sapato"}],

L05:[{word:"なつ",reading:"natsu",meaning:"Verão"},
{word:"にし",reading:"nishi",meaning:"Oeste"},
{word:"いぬ",reading:"inu",meaning:"Cão (cachorro)"},
{word:"ねこ",reading:"neko",meaning:"Gato"},
{word:"きのこ",reading:"kinoko",meaning:"Cogumelo"},
{word:"さかな",reading:"sakana",meaning:"Peixe"},
{word:"おかね",reading:"okane",meaning:"Dinheiro"},
{word:"にく",reading:"niku",meaning:"Carne"}],

L06:[{word:"はこ",reading:"hako",meaning:"Caixa"},
{word:"ひ",reading:"hi",meaning:"Fogo / Dia"},
{word:"ふね",reading:"fune",meaning:"Barco (navio)"},
{word:"へそ",reading:"heso",meaning:"Umbigo"},
{word:"ほし",reading:"hoshi",meaning:"Estrela"},
{word:"はな",reading:"hana",meaning:"Flor / Nariz"},
{word:"ふく",reading:"fuku",meaning:"Roupas"},
{word:"はち",reading:"hachi",meaning:"Oito / Abelha"}],

L07:[{word:"まち",reading:"machi",meaning:"Cidade / Bairro"},
{word:"みみ",reading:"mimi",meaning:"Orelha"},
{word:"むし",reading:"mushi",meaning:"Inseto"},
{word:"め",reading:"me",meaning:"Olho"},
{word:"もも",reading:"momo",meaning:"Pêssego"},
{word:"あめ",reading:"ame",meaning:"Chuva / Rebuçado"},
{word:"くも",reading:"kumo",meaning:"Nuvem / Aranha"},
{word:"きもの",reading:"kimono",meaning:"Quimono"}],

L08:[{word:"やね",reading:"yane",meaning:"Telhado"},
{word:"ゆめ",reading:"yume",meaning:"Sonho"},
{word:"よやく",reading:"yoyaku",meaning:"Reserva / Agendamento"},
{word:"やま",reading:"yama",meaning:"Montanha"},
{word:"ゆき",reading:"yuki",meaning:"Neve"},
{word:"よむ",reading:"yomu",meaning:"Ler"},
{word:"やさい",reading:"yasai",meaning:"Legumes / Verduras"},
{word:"やすみ",reading:"yasumi",meaning:"Descanso (folga, feriado)"},
{word:"ゆかた",reading:"yukata",meaning:"Yukata (quimono de verão)"},
{word:"やくそく",reading:"yakusoku",meaning:"Promessa (compromisso)"}],

L09:[{word:"さくら",reading:"sakura",meaning:"Cerejeira (flor de cerejeira)"},
{word:"となり",reading:"tonari",meaning:"Vizinho (próximo)"},
{word:"くるま",reading:"kuruma",meaning:"Carro"},
{word:"れきし",reading:"rekishi",meaning:"História"},
{word:"おふろ",reading:"ofuro",meaning:"Banheira (p/ tomar banho)"},
{word:"きれい",reading:"kirei",meaning:"Bonito / Limpo"},
{word:"しろ",reading:"shiro",meaning:"Branco"},
{word:"くろ",reading:"kuro",meaning:"Preto"}],

L10:[{word:"わたし",reading:"watashi",meaning:"Eu"},
{word:"ほしをみる",reading:"hoshi o miru",meaning:"Ver as estrelas"},
{word:"ほんをよむ",reading:"hon o yomu",meaning:"Ler um livro"},
{word:"にほん",reading:"nihon",meaning:"Japão"},
{word:"わかめ",reading:"wakame",meaning:"Alga marinha"},
{word:"みかん",reading:"mikan",meaning:"Tangerina"},
{word:"わに",reading:"wani",meaning:"Crocodilo"},
{word:"かわ",reading:"kawa",meaning:"Rio / Pele"},
{word:"きん",reading:"kin",meaning:"Ouro"},
{word:"みなさん",reading:"minasan",meaning:"Todos (toda a gente)"}],

L11:[{word:"てがみ",reading:"tegami",meaning:"Carta"},
{word:"かぎ",reading:"kagi",meaning:"Chave"},
{word:"かぐ",reading:"kagu",meaning:"Móveis (de casa)"},
{word:"げんき",reading:"genki",meaning:"Saúde (bem-estar)"},
{word:"りんご",reading:"ringo",meaning:"Maçã"},
{word:"がいこく",reading:"gaikoku",meaning:"País estrangeiro"},
{word:"たまご",reading:"tamago",meaning:"Ovo"},
{word:"ごご",reading:"gogo",meaning:"Tarde (p.m.)"},
{word:"めがね",reading:"megane",meaning:"Óculos"},
{word:"ごはん",reading:"gohan",meaning:"Arroz cozido / Refeição"}],

L12:[{word:"かざん",reading:"kazan",meaning:"Vulcão"},
{word:"かんじ",reading:"kanji",meaning:"Caractere chinês"},
{word:"みず",reading:"mizu",meaning:"Água"},
{word:"かぜ",reading:"kaze",meaning:"Vento / Resfriado"},
{word:"かぞく",reading:"kazoku",meaning:"Família"},
{word:"ざんねん",reading:"zannen",meaning:"Lamentável (que pena)"},
{word:"じしん",reading:"jishin",meaning:"Terramoto"},
{word:"ぜんぜん",reading:"zenzen",meaning:"De jeito nenhum (negação)"},
{word:"じかん",reading:"jikan",meaning:"Tempo (duração)"},
{word:"ざつおん",reading:"zatsuon",meaning:"Ruído (som indesejado)"}],

L13:[{word:"ひだり",reading:"hidari",meaning:"Esquerda"},
{word:"はなぢ",reading:"hanaji",meaning:"Sangramento nasal"},
{word:"つづく",reading:"tsuzuku",meaning:"Continuar"},
{word:"でんわ",reading:"denwa",meaning:"Telefone"},
{word:"まど",reading:"mado",meaning:"Janela"},
{word:"だいがく",reading:"daigaku",meaning:"Universidade"},
{word:"でぐち",reading:"deguchi",meaning:"Saída"},
{word:"かたづけ",reading:"katazuke",meaning:"Organização (arrumação)"},
{word:"どこ",reading:"doko",meaning:"Onde (pron. interrogativo)"},
{word:"だいすき",reading:"daisuki",meaning:"Adorar (gostar muito)"}],

L14:[{word:"たばこ",reading:"tabako",meaning:"Cigarro"},
{word:"びん",reading:"bin",meaning:"Garrafa"},
{word:"しんぶん",reading:"shinbun",meaning:"Jornal"},
{word:"かべ",reading:"kabe",meaning:"Parede"},
{word:"ぼく",reading:"boku",meaning:"Eu (informal masculino)"},
{word:"ばんごはん",reading:"bangohan",meaning:"Jantar"},
{word:"ぶんか",reading:"bunka",meaning:"Cultura"},
{word:"べんり",reading:"benri",meaning:"Prático (conveniente)"},
{word:"ぼんさい",reading:"bonsai",meaning:"Bonsai (arbusto japonês)"},
{word:"ぶんがく",reading:"bungaku",meaning:"Literatura"}],

L15:[{word:"でんぱ",reading:"denpa",meaning:"Onda Eletromagnética"},
{word:"えんぴつ",reading:"enpitsu",meaning:"Lápis"},
{word:"てんぷら",reading:"tempura",meaning:"Tempura"},
{word:"ぺこぺこ",reading:"pekopeko",meaning:"Faminto (onom.)"},
{word:"さんぽ",reading:"sanpo",meaning:"Passeio"},
{word:"かんぱい",reading:"kanpai",meaning:"Saúde! (brinde ao beber)"},
{word:"ぴかぴか",reading:"pikapika",meaning:"Brilhante / Reluzente (onom.)"},
{word:"ぺらぺら",reading:"perapera",meaning:"Fluente em idioma (onom.)"},
{word:"ぱくぱく",reading:"pakupaku",meaning:"Comer rapidamente (onom.)"},
{word:"ぽかぽか",reading:"pokapoka",meaning:"Quente / Confortável (onom.)"}],

L16:[{word:"けっこん",reading:"kekkon",meaning:"Casamento"},
{word:"さっか",reading:"sakka",meaning:"Escritor (autor)"},
{word:"きっぷ",reading:"kippu",meaning:"Bilhete (de transporte)"},
{word:"しっぱい",reading:"shippai",meaning:"Falha (fracasso)"},
{word:"ざっし",reading:"zasshi",meaning:"Revista"},
{word:"きっさてん",reading:"kissaten",meaning:"Cafetaria (café)"},
{word:"きって",reading:"kitte",meaning:"Selo (postagem)"},
{word:"あさって",reading:"asatte",meaning:"Depois de amanhã"},
{word:"こっち",reading:"kocchi",meaning:"Por aqui (informal)"},
{word:"しっぽ",reading:"shippo",meaning:"Cauda (de animal)"}],

L17:[{word:"おじいさん",reading:"ojiisan",meaning:"Avô"},
{word:"おばあさん",reading:"obaasan",meaning:"Avó"},
{word:"おとうさん",reading:"otousan",meaning:"Pai"},
{word:"おかあさん",reading:"okaasan",meaning:"Mãe"},
{word:"おにいさん",reading:"oniisan",meaning:"Irmão mais velho"},
{word:"おねえさん",reading:"oneesan",meaning:"Irmã mais velha"},
{word:"おとうとさん",reading:"otoutosan",meaning:"Irmão mais novo"},
{word:"いもうとさん",reading:"imoutosan",meaning:"Irmã mais nova"},
{word:"せんせい",reading:"sensei",meaning:"Professor (mestre)"},
{word:"がくせい",reading:"gakusei",meaning:"Estudante (aluno)"},
{word:"おおきい",reading:"ookii",meaning:"Grande"},
{word:"ちいさい",reading:"chiisai",meaning:"Pequeno"},
{word:"こおり",reading:"koori",meaning:"Gelo"},
{word:"ぼうし",reading:"boushi",meaning:"Chapéu"},
{word:"ぞう",reading:"zou",meaning:"Elefante"},
{word:"ひこうき",reading:"hikouki",meaning:"Avião"}],

L18:[{word:"とうきょう",reading:"toukyou",meaning:"Tóquio"},
{word:"きょうと",reading:"kyouto",meaning:"Quioto"},
{word:"きょうしつ",reading:"kyoushitsu",meaning:"Sala de aula"},
{word:"べんきょう",reading:"benkyou",meaning:"Estudo"},
{word:"ぎゅうにゅう",reading:"gyuunyuu",meaning:"Leite (gado bovino)"},
{word:"でんしゃ",reading:"densha",meaning:"Comboio"},
{word:"じてんしゃ",reading:"jitensha",meaning:"Bicicleta"},
{word:"いしゃ",reading:"isha",meaning:"Médico"},
{word:"じしょ",reading:"jisho",meaning:"Dicionário"},
{word:"としょかん",reading:"toshokan",meaning:"Biblioteca"},
{word:"しょくどう",reading:"shokudou",meaning:"Refeitório (cantina)"},
{word:"じんじゃ",reading:"jinja",meaning:"Santuário xintoísta"},
{word:"じゅう",reading:"juu",meaning:"Dez"},
{word:"おちゃ",reading:"ocha",meaning:"Chá"},
{word:"ひゃく",reading:"hyaku",meaning:"Cem"},
{word:"さんびゃく",reading:"sanbyaku",meaning:"Trezentos"},
{word:"びょういん",reading:"byouin",meaning:"Hospital"},
{word:"ろっぴゃく",reading:"roppyaku",meaning:"Seiscentos"},
{word:"りゅうがく",reading:"ryuugaku",meaning:"Estudar no exterior"},
{word:"りょこう",reading:"ryokou",meaning:"Viagem"}]
};

    const hiraganaGroups={A:[{char:"あ",reading:"a"},{char:"い",reading:"i"},{char:"う",reading:"u"},{char:"え",reading:"e"},{char:"お",reading:"o"}],KA:[{char:"か",reading:"ka"},{char:"き",reading:"ki"},{char:"く",reading:"ku"},{char:"け",reading:"ke"},{char:"こ",reading:"ko"}],GA:[{char:"が",reading:"ga"},{char:"ぎ",reading:"gi"},{char:"ぐ",reading:"gu"},{char:"げ",reading:"ge"},{char:"ご",reading:"go"}],SA:[{char:"さ",reading:"sa"},{char:"し",reading:"shi"},{char:"す",reading:"su"},{char:"せ",reading:"se"},{char:"そ",reading:"so"}],ZA:[{char:"ざ",reading:"za"},{char:"じ",reading:"ji"},{char:"ず",reading:"zu"},{char:"ぜ",reading:"ze"},{char:"ぞ",reading:"zo"}],TA:[{char:"た",reading:"ta"},{char:"ち",reading:"chi"},{char:"つ",reading:"tsu"},{char:"て",reading:"te"},{char:"と",reading:"to"}],DA:[{char:"だ",reading:"da"},{char:"ぢ",reading:"ji"},{char:"づ",reading:"zu"},{char:"で",reading:"de"},{char:"ど",reading:"do"}],NA:[{char:"な",reading:"na"},{char:"に",reading:"ni"},{char:"ぬ",reading:"nu"},{char:"ね",reading:"ne"},{char:"の",reading:"no"}],HA:[{char:"は",reading:"ha"},{char:"ひ",reading:"hi"},{char:"ふ",reading:"fu"},{char:"へ",reading:"he"},{char:"ほ",reading:"ho"}],BA:[{char:"ば",reading:"ba"},{char:"び",reading:"bi"},{char:"ぶ",reading:"bu"},{char:"べ",reading:"be"},{char:"ぼ",reading:"bo"}],PA:[{char:"ぱ",reading:"pa"},{char:"ぴ",reading:"pi"},{char:"ぷ",reading:"pu"},{char:"ぺ",reading:"pe"},{char:"ぽ",reading:"po"}],MA:[{char:"ま",reading:"ma"},{char:"み",reading:"mi"},{char:"む",reading:"mu"},{char:"め",reading:"me"},{char:"も",reading:"mo"}],YA:[{char:"や",reading:"ya"},{char:"ゆ",reading:"yu"},{char:"よ",reading:"yo"}],RA:[{char:"ら",reading:"ra"},{char:"り",reading:"ri"},{char:"る",reading:"ru"},{char:"れ",reading:"re"},{char:"ろ",reading:"ro"}],WA:[{char:"わ",reading:"wa"},{char:"を",reading:"wo"},{char:"ん",reading:"n"}],YOON:[{char:"きゃ",reading:"kya"},{char:"きゅ",reading:"kyu"},{char:"きょ",reading:"kyo"},{char:"ぎゃ",reading:"gya"},{char:"ぎゅ",reading:"gyu"},{char:"ぎょ",reading:"gyo"},{char:"しゃ",reading:"sha"},{char:"しゅ",reading:"shu"},{char:"しょ",reading:"sho"},{char:"じゃ",reading:"ja"},{char:"じゅ",reading:"ju"},{char:"じょ",reading:"jo"},{char:"ちゃ",reading:"cha"},{char:"ちゅ",reading:"chu"},{char:"ちょ",reading:"cho"},{char:"にゃ",reading:"nya"},{char:"にゅ",reading:"nyu"},{char:"にょ",reading:"nyo"},{char:"ひゃ",reading:"hya"},{char:"ひゅ",reading:"hyu"},{char:"ひょ",reading:"hyo"},{char:"びゃ",reading:"bya"},{char:"びゅ",reading:"byu"},{char:"びょ",reading:"byo"},{char:"ぴゃ",reading:"pya"},{char:"ぴゅ",reading:"pyu"},{char:"ぴょ",reading:"pyo"},{char:"みゃ",reading:"mya"},{char:"みゅ",reading:"myu"},{char:"みょ",reading:"myo"},{char:"りゃ",reading:"rya"},{char:"りゅ",reading:"ryu"},{char:"りょ",reading:"ryo"}]};
    const katakanaGroups={A:[{char:"ア",reading:"a"},{char:"イ",reading:"i"},{char:"ウ",reading:"u"},{char:"エ",reading:"e"},{char:"オ",reading:"o"}],KA:[{char:"カ",reading:"ka"},{char:"キ",reading:"ki"},{char:"ク",reading:"ku"},{char:"ケ",reading:"ke"},{char:"コ",reading:"ko"}],GA:[{char:"ガ",reading:"ga"},{char:"ギ",reading:"gi"},{char:"グ",reading:"gu"},{char:"ゲ",reading:"ge"},{char:"ゴ",reading:"go"}],SA:[{char:"サ",reading:"sa"},{char:"シ",reading:"shi"},{char:"ス",reading:"su"},{char:"セ",reading:"se"},{char:"ソ",reading:"so"}],ZA:[{char:"ザ",reading:"za"},{char:"ジ",reading:"ji"},{char:"ズ",reading:"zu"},{char:"ゼ",reading:"ze"},{char:"ゾ",reading:"zo"}],TA:[{char:"タ",reading:"ta"},{char:"チ",reading:"chi"},{char:"ツ",reading:"tsu"},{char:"テ",reading:"te"},{char:"ト",reading:"to"}],DA:[{char:"ダ",reading:"da"},{char:"ヂ",reading:"ji"},{char:"ヅ",reading:"zu"},{char:"デ",reading:"de"},{char:"ド",reading:"do"}],NA:[{char:"ナ",reading:"na"},{char:"ニ",reading:"ni"},{char:"ヌ",reading:"nu"},{char:"ネ",reading:"ne"},{char:"ノ",reading:"no"}],HA:[{char:"ハ",reading:"ha"},{char:"ヒ",reading:"hi"},{char:"フ",reading:"fu"},{char:"ヘ",reading:"he"},{char:"ホ",reading:"ho"}],BA:[{char:"バ",reading:"ba"},{char:"ビ",reading:"bi"},{char:"ブ",reading:"bu"},{char:"ベ",reading:"be"},{char:"ボ",reading:"bo"}],PA:[{char:"パ",reading:"pa"},{char:"ピ",reading:"pi"},{char:"プ",reading:"pu"},{char:"ペ",reading:"pe"},{char:"ポ",reading:"po"}],MA:[{char:"マ",reading:"ma"},{char:"ミ",reading:"mi"},{char:"ム",reading:"mu"},{char:"メ",reading:"me"},{char:"モ",reading:"mo"}],YA:[{char:"ヤ",reading:"ya"},{char:"ユ",reading:"yu"},{char:"ヨ",reading:"yo"}],RA:[{char:"ラ",reading:"ra"},{char:"リ",reading:"ri"},{char:"ル",reading:"ru"},{char:"レ",reading:"re"},{char:"ロ",reading:"ro"}],WA:[{char:"ワ",reading:"wa"},{char:"ヲ",reading:"wo"},{char:"ン",reading:"n"}],YOON:[{char:"キャ",reading:"kya"},{char:"キュ",reading:"kyu"},{char:"キョ",reading:"kyo"},{char:"ギャ",reading:"gya"},{char:"ギュ",reading:"gyu"},{char:"ギョ",reading:"gyo"},{char:"シャ",reading:"sha"},{char:"シュ",reading:"shu"},{char:"ショ",reading:"sho"},{char:"ジャ",reading:"ja"},{char:"ジュ",reading:"ju"},{char:"ジョ",reading:"jo"},{char:"チャ",reading:"cha"},{char:"チュ",reading:"chu"},{char:"チョ",reading:"cho"},{char:"ニャ",reading:"nya"},{char:"ニュ",reading:"nyu"},{char:"ニョ",reading:"nyo"},{char:"ヒャ",reading:"hya"},{char:"ヒュ",reading:"hyu"},{char:"ヒョ",reading:"hyo"},{char:"ビャ",reading:"bya"},{char:"ビュ",reading:"byu"},{char:"ビョ",reading:"byo"},{char:"ピャ",reading:"pya"},{char:"ピュ",reading:"pyu"},{char:"ピョ",reading:"pyo"},{char:"ミャ",reading:"mya"},{char:"ミュ",reading:"myu"},{char:"ミョ",reading:"myo"},{char:"リャ",reading:"rya"},{char:"リュ",reading:"ryu"},{char:"リョ",reading:"ryo"}]};
    const romajiToKana={'a':{hira:'あ',kata:'ア'},'i':{hira:'い',kata:'イ'},'u':{hira:'う',kata:'ウ'},'e':{hira:'え',kata:'エ'},'o':{hira:'お',kata:'オ'},'ka':{hira:'か',kata:'カ'},'ki':{hira:'き',kata:'キ'},'ku':{hira:'く',kata:'ク'},'ke':{hira:'け',kata:'ケ'},'ko':{hira:'こ',kata:'コ'},'sa':{hira:'さ',kata:'サ'},'shi':{hira:'し',kata:'シ'},'su':{hira:'す',kata:'ス'},'se':{hira:'せ',kata:'セ'},'so':{hira:'そ',kata:'ソ'},'ta':{hira:'た',kata:'タ'},'chi':{hira:'ち',kata:'チ'},'tsu':{hira:'つ',kata:'ツ'},'te':{hira:'て',kata:'テ'},'to':{hira:'と',kata:'ト'},'na':{hira:'な',kata:'ナ'},'ni':{hira:'に',kata:'ニ'},'nu':{hira:'ぬ',kata:'ヌ'},'ne':{hira:'ね',kata:'ネ'},'no':{hira:'の',kata:'ノ'},'ha':{hira:'は',kata:'ハ'},'hi':{hira:'ひ',kata:'ヒ'},'fu':{hira:'ふ',kata:'フ'},'he':{hira:'へ',kata:'ヘ'},'ho':{hira:'ほ',kata:'ホ'},'ma':{hira:'ま',kata:'マ'},'mi':{hira:'み',kata:'ミ'},'mu':{hira:'む',kata:'ム'},'me':{hira:'め',kata:'メ'},'mo':{hira:'も',kata:'モ'},'ya':{hira:'や',kata:'ヤ'},'yu':{hira:'ゆ',kata:'ユ'},'yo':{hira:'よ',kata:'ヨ'},'ra':{hira:'ら',kata:'ラ'},'ri':{hira:'り',kata:'リ'},'ru':{hira:'る',kata:'ル'},'re':{hira:'れ',kata:'レ'},'ro':{hira:'ろ',kata:'ロ'},'wa':{hira:'わ',kata:'ワ'},'wo':{hira:'を',kata:'ヲ'},'n':{hira:'ん',kata:'ン'},'ga':{hira:'が',kata:'ガ'},'gi':{hira:'ぎ',kata:'ギ'},'gu':{hira:'ぐ',kata:'グ'},'ge':{hira:'げ',kata:'ゲ'},'go':{hira:'ご',kata:'ゴ'},'za':{hira:'ざ',kata:'ザ'},'ji':{hira:'じ',kata:'ジ'},'zu':{hira:'ず',kata:'ズ'},'ze':{hira:'ぜ',kata:'ゼ'},'zo':{hira:'ぞ',kata:'ゾ'},'da':{hira:'だ',kata:'ダ'},'dji':{hira:'ぢ',kata:'ヂ'},'dzu':{hira:'づ',kata:'ヅ'},'de':{hira:'で',kata:'デ'},'do':{hira:'ど',kata:'ド'},'ba':{hira:'ば',kata:'バ'},'bi':{hira:'び',kata:'ビ'},'bu':{hira:'ぶ',kata:'ブ'},'be':{hira:'べ',kata:'ベ'},'bo':{hira:'ぼ',kata:'ボ'},'pa':{hira:'ぱ',kata:'パ'},'pi':{hira:'ぴ',kata:'ピ'},'pu':{hira:'ぷ',kata:'プ'},'pe':{hira:'ぺ',kata:'ペ'},'po':{hira:'ぽ',kata:'ポ'},'kya':{hira:'きゃ',kata:'キャ'},'kyu':{hira:'きゅ',kata:'キュ'},'kyo':{hira:'きょ',kata:'キョ'},'gya':{hira:'ぎゃ',kata:'ギャ'},'gyu':{hira:'ぎゅ',kata:'ギュ'},'gyo':{hira:'ぎょ',kata:'ギョ'},'sha':{hira:'しゃ',kata:'シャ'},'shu':{hira:'しゅ',kata:'シュ'},'sho':{hira:'しょ',kata:'ショ'},'ja':{hira:'じゃ',kata:'ジャ'},'ju':{hira:'じゅ',kata:'ジュ'},'jo':{hira:'じょ',kata:'ジョ'},'cha':{hira:'ちゃ',kata:'チャ'},'chu':{hira:'ちゅ',kata:'チュ'},'cho':{hira:'ちょ',kata:'チョ'},'dja':{hira:'ぢゃ',kata:'ヂャ'},'dju':{hira:'ぢゅ',kata:'ヂュ'},'djo':{hira:'ぢょ',kata:'ヂョ'},'nya':{hira:'にゃ',kata:'ニャ'},'nyu':{hira:'にゅ',kata:'ニュ'},'nyo':{hira:'にょ',kata:'ニョ'},'hya':{hira:'ひゃ',kata:'ヒャ'},'hyu':{hira:'ひゅ',kata:'ヒュ'},'hyo':{hira:'ひょ',kata:'ヒョ'},'bya':{hira:'びゃ',kata:'ビャ'},'byu':{hira:'びゅ',kata:'ビュ'},'byo':{hira:'びょ',kata:'ビョ'},'pya':{hira:'ぴゃ',kata:'ピャ'},'pyu':{hira:'ぴゅ',kata:'ピュ'},'pyo':{hira:'ぴょ',kata:'ピョ'},'mya':{hira:'みゃ',kata:'ミャ'},'myu':{hira:'みゅ',kata:'ミュ'},'myo':{hira:'みょ',kata:'ミョ'},'rya':{hira:'りゃ',kata:'リャ'},'ryu':{hira:'りゅ',kata:'リュ'},'ryo':{hira:'りょ',kata:'リョ'}
//,'kka':{hira:'っか',kata:'ッカ'},'kki':{hira:'っき',kata:'ッキ'},'kku':{hira:'っく',kata:'ック'},'kke':{hira:'っけ',kata:'ッケ'},'kko':{hira:'っこ',kata:'ッコ'},'ssa':{hira:'ッサ',kata:'ッサ'},'sshi':{hira:'っし',kata:'ッシ'},'ssu':{hira:'っす',kata:'ッス'},'sse':{hira:'っせ',kata:'ッセ'},'sso':{hira:'っそ',kata:'ッソ'},'tta':{hira:'った',kata:'ッタ'},'tchi':{hira:'っち',kata:'ッチ'},'ttsu':{hira:'っつ',kata:'ッツ'},'tte':{hira:'って',kata:'ッテ'},'tto':{hira:'っと',kata:'ット'},'ppa':{hira:'っぱ',kata:'ッパ'},'ppi':{hira:'っぴ',kata:'ッピ'},'ppu':{hira:'っぷ',kata:'ップ'},'ppe':{hira:'っぺ',kata:'ッペ'},'ppo':{hira:'っぽ',kata:'ッポ'},'kkya':{hira:'っきゃ',kata:'っきゃ'},'kkyu':{hira:'っきゅ',kata:'っきゅ'},'kkyo':{hira:'っきょ',kata:'っきょ'},'ssha':{hira:'っしゃ',kata:'っしゃ'},'sshu':{hira:'っしゅ',kata:'っしゅ'},'ssho':{hira:'っしょ',kata:'っしょ'},'tcha':{hira:'っちゃ',kata:'っちゃ'},'tchu':{hira:'っちゅ',kata:'っちゅ'},'tcho':{hira:'っちょ',kata:'っちょ'},'ppya':{hira:'っぴゃ',kata:'っぴゃ'},'ppyu':{hira:'っぴゅ',kata:'っぴゅ'},'ppyo':{hira:'っぴょ',kata:'っぴょ'}
};

    // ===== GLOBAL VARIABLES =====
    let currentAppMode = 'kana'; // 'vocab' or 'kana'
    let deck = [];
    let currentItem = null;
    let correctCount = 0;
    let incorrectCount = 0;

    // ===== DOM ELEMENTS =====
    // Shared
    const promptDisplay = document.getElementById("promptDisplay");
    const meaningDisplay = document.getElementById("meaningDisplay");
    const answerBox = document.getElementById("answerBox");
    const checkBtn = document.getElementById("checkBtn");
    const nextBtn = document.getElementById("nextBtn");
    const resetBtn = document.getElementById("resetBtn");
    const remainingCount = document.getElementById("remainingCount");
    const correctDisplay = document.getElementById("correctCount");
    const incorrectDisplay = document.getElementById("incorrectCount");
    const resultDisplay = document.getElementById("resultDisplay");
    
    // Master mode selectors
    const appModeRadios = document.querySelectorAll('input[name="appMode"]');
    const vocabControls = document.getElementById('vocab-controls');
    const kanaControls = document.getElementById('kana-controls');

    // Vocabulary specific
    const vocabScriptRadios = document.querySelectorAll('input[name="vocabScript"]');
    const showAllBtn1 = document.getElementById("showAllBtn1");
    const showAllBtn2 = document.getElementById("showAllBtn2");
    const allWordsContainer1 = document.getElementById("allWordsContainer1");
    const allWordsContainer2 = document.getElementById("allWordsContainer2");

    // Kana specific
    const kanaScriptRadios = document.querySelectorAll('input[name="kanaScript"]');
    const optionsBtn1 = document.getElementById("optionsBtn1");
    const optionsBtn2 = document.getElementById("optionsBtn2");
    const optionsPanel1 = document.getElementById("options1");
    const optionsPanel2 = document.getElementById("options2");
    const checkAllHira = document.getElementById("checkAllHira");
    const groupCheckboxesHira = document.querySelectorAll(".group-checkbox-hira");
    const checkAllKata = document.getElementById("checkAllKata");
    const groupCheckboxesKata = document.querySelectorAll(".group-checkbox-kata");
    const checkAllWordsHira = document.getElementById("checkAllWordsHira");
    const groupCheckboxesWordsHira = document.querySelectorAll(".group-checkbox-words-hira");
    const checkAllWordsKata = document.getElementById("checkAllWordsKata");
    const groupCheckboxesWordsKata = document.querySelectorAll(".group-checkbox-words-kata");

    // ===== CORE MERGED FUNCTIONS =====

function buildDeck() {
    deck = [];
    if (currentAppMode === 'vocab') {
            for (const key in hiraganaWords) {
                if (document.getElementById('wrd' + key)?.checked) {
                    deck.push(...hiraganaWords[key]);
                }
            }
            for (const key in katakanaWords) {
                if (document.getElementById('wrd' + key + '_kata')?.checked) {
                    deck.push(...katakanaWords[key]);
                }
            }
    } else if (currentAppMode === 'kana') {
            for (const key in hiraganaGroups) {
                if (document.getElementById('grp' + key)?.checked) {
                    deck.push(...hiraganaGroups[key]);
                }
            }
            for (const key in katakanaGroups) {
                if (document.getElementById('grp' + key + '_kata')?.checked) {
                    deck.push(...katakanaGroups[key]);
                }
            }
    }
    updateRemaining();
}

    function nextItem() {
        // --- Vocabulary Mode ---
        if (currentAppMode === 'vocab') {
            const vocabMode = document.querySelector('input[name="vocabScript"]:checked').value;
            if (vocabMode === 'random') {
                currentItem = generateRandomSyllableWord(4);
                promptDisplay.textContent = currentItem.word;
                meaningDisplay.textContent = currentItem.meaning;
                remainingCount.textContent = "∞";
                resetUIState();
                return;
            }
            
            if (deck.length === 0) {
                showEndScreen('Pressiona "Reiniciar" para começar de novo!');
                return;
            }
            const idx = Math.floor(Math.random() * deck.length);
            currentItem = deck.splice(idx, 1)[0];
            
            if (vocabMode === 'normal') {
            promptDisplay.textContent = currentItem.word;
            meaningDisplay.textContent = "...";
            } else {
            promptDisplay.textContent = "...";
            meaningDisplay.textContent = currentItem.meaning;
            }

        // --- Kana Mode ---
        } else if (currentAppMode === 'kana') {
            if (deck.length === 0) {
                showEndScreen('Seleciona as linhas e pressiona "Reniciar" para começar!');
                return;
            }
            const idx = Math.floor(Math.random() * deck.length);
            currentItem = deck.splice(idx, 1)[0];
            // Standardize property for checkAnswer
            currentItem.word = currentItem.char; 
            promptDisplay.textContent = currentItem.word;
        }

        resetUIState();
        updateRemaining();
    }

    function checkAnswer() {
        if (checkBtn.disabled || !currentItem) return;

        const userAnswer = answerBox.value.trim().toLowerCase();
        const correctAnswer = currentItem.reading;
        
        if (userAnswer === correctAnswer) {
            correctCount++;
            resultDisplay.textContent = "✅ Correto!";
            resultDisplay.className = "correct";
        } else {
            incorrectCount++;
            resultDisplay.textContent = `❌ Incorreto! A resposta era: ${correctAnswer}`;
            resultDisplay.className = "incorrect";
        }

        if (currentAppMode === 'vocab') {
            const vocabMode = document.querySelector('input[name="vocabScript"]:checked').value;
            if (vocabMode === 'normal') {
            meaningDisplay.textContent = currentItem.meaning;
            } else {
            promptDisplay.textContent = currentItem.word;
            }
        }

        correctDisplay.textContent = correctCount;
        incorrectDisplay.textContent = incorrectCount;
        checkBtn.disabled = true;
        nextBtn.disabled = false;
        answerBox.focus();
    }

    function resetGame() {
        correctCount = 0;
        incorrectCount = 0;
        correctDisplay.textContent = 0;
        incorrectDisplay.textContent = 0;
        currentItem = null;
        allWordsContainer1.style.display = 'none';
        allWordsContainer2.style.display = 'none';
        options1.style.display = 'none';
        options2.style.display = 'none';
        
        updateUIVisibility(); // Adjust UI based on mode
        buildDeck();
        toggleAllWords1();
        toggleAllWords2();
        nextItem();
    }
    
    // ===== HELPER & UI FUNCTIONS =====
    
    function updateUIVisibility() {
        if (currentAppMode === 'vocab') {
            vocabControls.style.display = 'block';
            kanaControls.style.display = 'none';
            meaningDisplay.style.display = 'block';
            answerBox.placeholder = "Romaji";
            answerBox.maxLength = 30;
        } else { // kana mode
            vocabControls.style.display = 'none';
            kanaControls.style.display = 'block';
            meaningDisplay.style.display = 'none';
            answerBox.placeholder = "Romaji";
            answerBox.maxLength = 4;
        }
    }

    function resetUIState() {
        answerBox.value = "";
        answerBox.focus();
        resultDisplay.textContent = "Aguardando Resposta...";
        resultDisplay.className = "neutral";
        checkBtn.disabled = false;
        nextBtn.disabled = true;
        answerBox.disabled = false;
    }

    function showEndScreen(message) {
        promptDisplay.textContent = "Acabou!";
        if (currentAppMode === 'vocab') meaningDisplay.textContent = "Parabéns!";
        checkBtn.disabled = true;
        nextBtn.disabled = true;
        answerBox.disabled = true;
        answerBox.value = "";
        resultDisplay.textContent = message;
        resultDisplay.className = "";
    }

    function updateRemaining() {
        const vocabMode = document.querySelector('input[name="vocabScript"]:checked').value;

        // If in vocabulary mode and the sub-mode is 'random', display infinity
        if (currentAppMode === 'vocab' && vocabMode === 'random') {
            remainingCount.textContent = "∞";
            return; // Exit the function here for random mode
        }

        // For all other modes (Kana, normal/alt vocab), calculate the count normally
        // The count is the number of items left in the deck plus the one currently being shown
        remainingCount.textContent = deck.length + (currentItem ? 1 : 0);
    }

    function handleEnterKey(e) {
        if (e.key === "Enter") {
            e.preventDefault();
            if (!checkBtn.disabled) {
                checkAnswer();
            } else if (!nextBtn.disabled) {
                nextItem();
            }
        }
    }

    function generateRandomSyllableWord(maxLength) {
        const syllables = Object.keys(romajiToKana);
        const wordLength = Math.floor(Math.random() * (maxLength - 1)) + 2;
        let generatedKana = '';
        let generatedReading = '';
        for (let i = 0; i < wordLength; i++) {
            const randomSyllable = syllables[Math.floor(Math.random() * syllables.length)];
            const kanaPair = romajiToKana[randomSyllable];
            const chosenKana = Math.random() < 0.5 ? kanaPair.hira : kanaPair.kata;
            generatedKana += chosenKana;
            generatedReading += randomSyllable + '';
        }
        return {
            word: generatedKana,
            reading: generatedReading.trim(),
            meaning: "Palavra Aleatória"
        };
    }

    function showAllWords1() {
            options1.style.display = "none";
        if (allWordsContainer1.style.display === "block") {
            allWordsContainer1.style.display = "none";
            return;
        }
        allWordsContainer1.style.display = "block";
    }

    function showAllWords2() {
            options2.style.display = "none";
        if (allWordsContainer2.style.display === "block") {
            allWordsContainer2.style.display = "none";
            return;
        }
        allWordsContainer2.style.display = "block";
    }
    
    function toggleAllWords1() {
        allWordsContainer1.innerHTML = '';
        
        const vocabMode = document.querySelector('input[name="vocabScript"]:checked').value;
        const isNormal = vocabMode === 'normal';
        const sourceList = deck;
        const listTitle = "Lista de Palavras";
        
        const titleElement = document.createElement('h3');
        titleElement.textContent = listTitle;
        allWordsContainer1.appendChild(titleElement);
        
        sourceList.forEach(item => {
            const p = document.createElement('p');
            p.innerHTML = `<strong>${item.word}</strong> (${item.reading}) - ${item.meaning}`;
            allWordsContainer1.appendChild(p);
        });
    }

    function toggleAllWords2() {
        allWordsContainer2.innerHTML = '';
        
        const sourceList = deck;
        const listTitle = "Lista de Kana";
        
        const titleElement = document.createElement('h3');
        titleElement.textContent = listTitle;
        allWordsContainer2.appendChild(titleElement);
        
        sourceList.forEach(item => {
            const p = document.createElement('p');
            p.innerHTML = `<strong>${item.char}</strong> - ${item.reading}`;
            allWordsContainer2.appendChild(p);
        });
    }

    // ===== KANA SPECIFIC FUNCTIONS =====
    function toggleOptionsPanel1() {
            allWordsContainer1.style.display = "none";
        optionsPanel1.style.display = (optionsPanel1.style.display === "none") ? "flex" : "none";
    }

    function toggleOptionsPanel2() {
            allWordsContainer2.style.display = "none";
        optionsPanel2.style.display = (optionsPanel2.style.display === "none") ? "flex" : "none";
    }

    // ===== EVENT LISTENERS =====
    // --- Main Controls ---
    checkBtn.addEventListener("click", checkAnswer);
    nextBtn.addEventListener("click", nextItem);
    resetBtn.addEventListener("click", resetGame);
    answerBox.addEventListener("keydown", handleEnterKey);

    // --- Mode Switching ---
    appModeRadios.forEach(radio => radio.addEventListener('change', (e) => {
        currentAppMode = e.target.value;
        resetGame();
    }));

    // --- Vocabulary Controls ---
    vocabScriptRadios.forEach(radio => radio.addEventListener('change', () => {
        allWordsContainer1.style.display = 'none';
        options1.style.display = 'none';
        const isRandom = document.querySelector('input[name="vocabScript"]:checked').value === 'random';
        showAllBtn1.disabled = isRandom;
        optionsBtn1.disabled = isRandom;
        resetGame();
    }));
    showAllBtn1.addEventListener("click", showAllWords1);
    showAllBtn2.addEventListener("click", showAllWords2);

    // --- Kana Controls ---
    optionsBtn1.addEventListener("click", toggleOptionsPanel1);
    optionsBtn2.addEventListener("click", toggleOptionsPanel2);
    
    // Check-all logic for Hiragana
    checkAllHira.addEventListener('change', () => {
        groupCheckboxesHira.forEach(checkbox => checkbox.checked = checkAllHira.checked);
    });
    groupCheckboxesHira.forEach(checkbox => checkbox.addEventListener('change', () => {
        checkAllHira.checked = Array.from(groupCheckboxesHira).every(cb => cb.checked);
    }));

    // Check-all logic for Katakana
    checkAllKata.addEventListener('change', () => {
        groupCheckboxesKata.forEach(checkbox => checkbox.checked = checkAllKata.checked);
    });
    groupCheckboxesKata.forEach(checkbox => checkbox.addEventListener('change', () => {
        checkAllKata.checked = Array.from(groupCheckboxesKata).every(cb => cb.checked);
    }));

    checkAllWordsHira.addEventListener('change', () => {
        groupCheckboxesWordsHira.forEach(checkbox => checkbox.checked = checkAllWordsHira.checked);
    });
    groupCheckboxesWordsHira.forEach(checkbox => checkbox.addEventListener('change', () => {
        checkAllWordsHira.checked = Array.from(groupCheckboxesWordsHira).every(cb => cb.checked);
    }));

    checkAllWordsKata.addEventListener('change', () => {
        groupCheckboxesWordsKata.forEach(checkbox => checkbox.checked = checkAllWordsKata.checked);
    });
    groupCheckboxesWordsKata.forEach(checkbox => checkbox.addEventListener('change', () => {
        checkAllWordsKata.checked = Array.from(groupCheckboxesWordsKata).every(cb => cb.checked);
    }));

    // --- Initial setup ---
    resetGame();
</script>
</body>
</html>
